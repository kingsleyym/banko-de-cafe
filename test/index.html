<!DOCTYPE html>
<html lang="de">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Coffee & Food - Test</title>
    <style>
        * {
            margin: 0;
            paddi        .carousel {
            display: flex;
            gap: 20px;
            overflow-x: auto;
            overflow-y: visible !important;
            scroll-snap-type: x mandatory;
            padding: 0 calc(50vw - 420px); /* Behalte aktuelle Einstellung erstmal */
            scrollbar-width: none;
            -ms-overflow-style: none;
            scroll-behavior: smooth;
            height: auto;
            min-height: 500px; /* 50px höher für bottom-growth */
        }      box-sizing: border-box;
            font-family: 'Poppins', sans-serif;
        }

        /* GLOBALE REGEL: Niemals Karten abschneiden */
        .carousel-wrapper, .carousel, .product-card, .product-image, 
        .content-section, .main-content {
            overflow-y: visible !important;
        }

        body {
            line-height: 1.6;
            color: #333;
            background: #EDE8E2;
            overflow-x: hidden; /* Nur horizontal verhindern */
            overflow-y: visible !important; /* Vertikal NIEMALS blockieren */
        }

        /* Hero mit radialem Gradient - volle Höhe */
        header {
            background: radial-gradient(circle, #D4C4B5 0%, #B49A86 70%);
            height: 100vh;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* Logo oben links */
        .logo {
            position: fixed;
            top: 30px;
            left: 30px;
            width: 200px;
            height: auto;
            z-index: 1000;
        }

        .nav-link {
            position: absolute;
            top: 30px;
            right: 30px;
            background: rgba(255, 255, 255, 0.15);
            color: white;
            padding: 12px 24px;
            border-radius: 30px;
            text-decoration: none;
            font-weight: 600;
            font-size: 14px;
            transition: all 0.3s ease;
            z-index: 10;
            backdrop-filter: blur(10px);
        }

        .nav-link:hover {
            background: rgba(255, 255, 255, 0.25);
            transform: translateY(-2px);
        }

        .hero-container {
            position: relative;
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* Zentrales Bowl-PNG - im Header unten zentriert und angeschnitten */
        .center-drink {
            position: absolute;
            z-index: 5;
            /* Über Texten und Bagels */
            left: 50%;
            bottom: -55%;
            /* Noch weiter unten, mehr angeschnitten */
            transform: translateX(-50%);
            will-change: transform;
        }

        .center-drink img {
            width: clamp(600px, 70vw, 900px);
            height: clamp(960px, 112vw, 1440px);
            object-fit: contain;
        }

        /* Dekorative Bagels - FIXED! */
        .coffee-bean {
            position: fixed;
            z-index: 2;
            /* Unter der Bowl */
        }

        .coffee-bean.left {
            left: 8%;
            /* Weiter links */
            top: 40%;
            /* Höher positioniert */
            transform: rotate(-15deg);
        }

        .coffee-bean.right {
            right: 8%;
            /* Weiter nach rechts */
            top: 25%;
            /* Höher positioniert, über der Schrift */
            transform: rotate(25deg);
        }

        .coffee-bean img {
            width: clamp(120px, 15vw, 200px);
            height: auto;
            opacity: 0.9;
        }

        /* "We Love Coffee" Typography - FIXED! */
        .hero-text {
            position: fixed;
            z-index: 1;
            /* Unter den Bagels und der Bowl */
            top: 35%;
            /* Höher positioniert */
            transform: translateY(-50%);
            width: 25%;
        }

        .hero-text.left {
            left: 10%;
            /* Näher zur Mitte */
            text-align: left;
            /* Linksbündig */
        }

        .hero-text.right {
            right: 10%;
            /* Näher zur Mitte */
            text-align: right;
            /* Rechtsbündig */
        }

        .hero-title {
            font-size: clamp(2.4rem, 5vw, 4.4rem);
            /* Doppelt so groß */
            font-weight: 700;
            letter-spacing: 0.04em;
            text-transform: uppercase;
            line-height: 1.2;
            margin: 0;
            color: white;
            /* text-shadow entfernt */
        }





        /* Sektionen */
        .main-content {
            background: #EDE8E2;
            position: relative;
            z-index: 10;
            /* Über der Bowl */
            overflow: visible !important; /* WICHTIG: Keine Beschneidung der Bilder */
        }

        .content-section {
            padding: 4rem 2rem;
            max-width: 1400px;
            margin: 0 auto;
            overflow: visible !important; /* WICHTIG: Keine Beschneidung der Bilder */
            position: relative; /* Für Z-Index Kontext */
        }

        .content-section.dark {
            background: #39312A;
            color: white;
        }

        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 1.5rem; /* Weniger Abstand (war 3rem) */
            padding: 0 2rem;
        }

        .section-info {
            flex: 1;
            max-width: 600px;
            text-align: left;
        }

        .section-title {
            font-size: 40px;
            font-weight: 700;
            text-transform: uppercase;
            text-align: left;
            margin-bottom: 1rem;
            color: #222;
        }

        .content-section.dark .section-title {
            color: #FFF;
        }

        .section-subtitle {
            font-size: 16px;
            color: #666;
            text-align: left;
            line-height: 1.4;
            margin: 0;
        }

        .content-section.dark .section-subtitle {
            color: #DDD;
        }

        .section-controls {
            display: flex;
            gap: 12px;
            align-items: center;
            flex-shrink: 0;
        }

        /* RESPONSIVE CAROUSEL - Professionelle Lösung */
        .carousel-wrapper {
            position: relative;
            overflow: visible !important;
            min-height: 500px;
            display: flex;
            align-items: flex-end;
            padding: 10px;
            /* Responsive Container-Breite */
            width: min(1400px, 100vw - 4rem);
            margin: 0 auto;
        }

        .carousel {
            display: flex;
            gap: 20px;
            overflow-x: auto;
            overflow-y: visible !important;
            scroll-snap-type: x mandatory;
            /* RESPONSIVE PADDING: Zentrale 2 Karten mit scroll-padding */
            scroll-padding-inline: calc(50% - 140px); /* (260px + 20px) / 2 = 140px */
            scrollbar-width: none;
            -ms-overflow-style: none;
            scroll-behavior: smooth;
            width: 100%;
            height: auto;
            min-height: 500px;
        }

        .carousel::-webkit-scrollbar {
            display: none;
        }

        .product-card {
            position: relative;
            background: white;
            border-radius: 16px;
            overflow: visible !important;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.08);
            transition: all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
            width: 260px;
            height: 265px;
            flex-shrink: 0;
            /* PROFESSIONELLE SCROLL-SNAP LÖSUNG */
            scroll-snap-align: center;
            scroll-margin-inline: 10px; /* Abstand zwischen Snap-Punkten */
            transform: scale(0.85);
            transform-origin: bottom center;
            z-index: 1;
            margin-top: auto;
        }

        /* Getränke-Karten: weiß */
        .content-section:not(.dark) .product-card {
            background: white;
        }

        /* Speise-Karten: #ECE7E1 */
        .content-section.dark .product-card {
            background: #ECE7E1;
        }

        .product-card.active {
            transform: scale(1.15);
            transform-origin: bottom center;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);
            z-index: 10;
            /* MATHEMATISCHE KORREKTUR: Negative margin kompensiert Vergrößerung */
            margin-inline: -19.5px; /* (260px * 1.15 - 260px) / 2 = -19.5px */
        }

        /* Aktive Karten: Größere Bilder */
        .product-card.active .product-image {
            top: -90px; /* Aktive Karten: Bilder höher */
        }
        
        .product-card.active .product-image img {
            width: 240px; /* Noch größer für aktive Karten */
            max-height: 300px;
        }

        /* RESPONSIVE BREAKPOINTS für professionelle Lösung */
        
        /* Desktop: 4 Karten sichtbar */
        @media (min-width: 1200px) {
            .carousel {
                scroll-padding-inline: calc(50% - 140px); /* 2 zentrale Karten */
            }
        }
        
        /* Tablet: 3 Karten sichtbar */
        @media (max-width: 1199px) and (min-width: 768px) {
            .carousel {
                scroll-padding-inline: calc(50% - 130px); /* 1 zentrale Karte */
            }
            /* Nur 1 mittlere Karte aktiv bei kleineren Bildschirmen */
        }
        
        /* Mobile: 2 Karten sichtbar */
        @media (max-width: 767px) {
            .carousel {
                scroll-padding-inline: calc(50% - 130px);
            }
            .product-card {
                width: 220px; /* Kleinere Karten */
            }
            .product-image {
                width: 180px;
            }
            .product-image img {
                width: 180px;
            }
        }

        .product-card:hover {
            transform: scale(0.9);
            transform-origin: bottom center; /* Skalierung von unten */
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.12);
        }

        /* Überlappende Produktbilder - NOCH GRÖSSER UND HÖHER */
                /* Überlappende Produktbilder - ABSOLUT FREI POSITIONIERT */
        .product-image {
            position: absolute; /* ABSOLUT positioniert - kein Container kann abschneiden */
            top: -70px; /* 30px weiter nach unten für nicht-aktive Karten (war -100px) */
            left: 50%;
            transform: translateX(-50%);
            width: 210px; /* 20px größer (war 190px) */
            height: auto;
            display: flex;
            align-items: flex-end;
            justify-content: center;
            z-index: 20; /* Höchster Z-Index */
            pointer-events: none; /* Klicks durchlassen */
        }

        .product-image img {
            width: 210px; /* 20px größer (war 190px) */
            height: auto;
            max-height: 270px; /* Auch max-height erhöht */
            object-fit: contain;
            object-position: bottom;
        }

        .product-content {
            padding: 15px 18px 15px; /* Mehr Padding unten für Abstand zur Kante */
            display: flex;
            flex-direction: column;
            gap: 8px; /* Mehr Gap zwischen Überschrift und Beschreibung */
            height: calc(100% - 60px); /* Angepasst an höhere Container */
            margin-top: 80px; /* 20px weiter nach unten (war 60px) */
        }

        .product-name {
            font-size: 18px;
            font-weight: 600;
            color: #222;
            text-transform: capitalize;
        }

        .product-description {
            font-size: 14px;
            color: #555;
            line-height: 1.4;
            margin-bottom: 12px;
        }

        .product-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .product-size {
            font-size: 12px;
            color: #666;
        }

        .product-price {
            font-size: 20px;
            font-weight: 700;
            color: #222;
        }

        /* Arrow Buttons - jetzt im Header */
        .section-controls .carousel-button {
            position: static;
            transform: none;
            width: 48px;
            height: 48px;
            border-radius: 50%;
            background: #333;
            border: none;
            color: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }

        .section-controls .carousel-button:hover {
            background: #B49A86;
        }

        .content-section.dark .section-controls .carousel-button {
            background: transparent;
            border: 2px solid white;
            color: white;
        }

        .content-section.dark .section-controls .carousel-button:hover {
            background: white;
            color: #3B3B38;
        }

        /* Responsive */
        @media (max-width: 1024px) {
            .hero-text {
                width: 30%;
                top: 47%;
                /* Angepasst für Tablets - höher */
            }

            .hero-text.left {
                left: 12%;
            }

            .hero-text.right {
                right: 12%;
            }

            .coffee-bean.left {
                left: 10%;
                /* Weiter links für Tablets */
                top: 47%;
                /* Höher positioniert */
            }

            .coffee-bean.right {
                right: 10%;
                /* Weiter nach rechts */
                top: 32%;
                /* Höher positioniert */
            }
        }

        @media (max-width: 768px) {
            header {
                height: 100vh;
            }

            .hero-text {
                width: 35%;
                top: 50%;
                /* Angepasst für Mobile - höher */
            }

            .hero-text.left {
                left: 12%;
                /* Näher zur Mitte */
            }

            .hero-text.right {
                right: 12%;
                /* Näher zur Mitte */
            }

            .coffee-bean.left {
                left: 5%;
                /* Weiter links für Mobile */
                top: 50%;
                /* Höher positioniert */
            }

            .coffee-bean.right {
                right: 5%;
                /* Weiter nach rechts */
                top: 35%;
                /* Höher positioniert */
            }

            .center-drink {
                bottom: -60%;
                /* Auf Mobile noch weiter unten */
            }

            .food-carousel {
                padding: 0 1rem 2rem;
                gap: 1.5rem;
            }

            .food-card {
                width: 260px;
            }
        }

        @media (max-width: 480px) {
            .hero-text {
                width: 40%;
                top: 55%;
                /* Angepasst für kleine Screens - höher */
            }

            .hero-text.left {
                left: 8%;
                /* Näher zur Mitte */
            }

            .hero-text.right {
                right: 8%;
                /* Näher zur Mitte */
            }

            .coffee-bean.left {
                left: 2%;
                /* Weiter links für kleine Screens */
                top: 55%;
                /* Höher positioniert */
            }

            .coffee-bean.right {
                right: 2%;
                /* Weiter nach rechts */
                top: 40%;
                /* Höher positioniert */
            }

            .center-drink {
                bottom: -65%;
                /* Auf sehr kleinen Screens noch mehr unten */
            }

            .logo {
                font-size: 18px;
            }

            .nav-link {
                padding: 10px 20px;
                font-size: 12px;
            }
        }

        @media (prefers-reduced-motion: reduce) {
            header {
                background-attachment: scroll;
            }
        }
    </style>
</head>

<body>

    <header>
        <img src="../assets/logo.svg" alt="BANCO The Café" class="logo">
        <a href="../" class="nav-link">← Zurück zur Hauptseite</a>

        <div class="hero-container">
            <!-- Dekorative Bagels -->
            <div class="coffee-bean left">
                <img src="../assets/manhatten_city_plain.webp" alt="Bagel Links">
            </div>
            <div class="coffee-bean right">
                <img src="../assets/vegan_vegas_plain.webp" alt="Bagel Rechts">
            </div>

            <!-- Zentrales Bowl-PNG mit Parallax -->
            <div class="center-drink">
                <img src="../assets/chicken_teriyaki_front.webp" alt="Bowl">
            </div>

            <!-- "We Love Coffee" Text links -->
            <div class="hero-text left">
                <h1 class="hero-title">We Love<br>Coffee</h1>
            </div>

            <!-- "We Love Coffee" Text rechts -->
            <div class="hero-text right">
                <h1 class="hero-title">We Love<br>Coffee</h1>
            </div>
        </div>
    </header>

    <div class="main-content">
        <!-- Getränke Sektion (Hell) -->
        <section class="content-section">
            <div class="section-header">
                <div class="section-info">
                    <h2 class="section-title">Unsere Getränke</h2>
                    <p class="section-subtitle">Entdecken Sie unsere köstliche Auswahl an frisch gebrühten Kaffees,
                        cremigen Cappuccinos und erfrischenden Cold Brews.</p>
                </div>
                <div class="section-controls">
                    <button class="carousel-button prev" onclick="scrollCarousel('drinks-carousel', -1)">‹</button>
                    <button class="carousel-button next" onclick="scrollCarousel('drinks-carousel', 1)">›</button>
                </div>
            </div>

            <div class="carousel-wrapper">
                <div class="carousel" id="drinks-carousel">
                    <div class="product-card">
                        <div class="product-image">
                            <img src="../assets/manhatten_city_plain.webp" alt="Cappuccino">
                        </div>
                        <div class="product-content">
                            <div class="product-name">Cappuccino</div>
                            <div class="product-description">Cremiger Cappuccino mit perfekt aufgeschäumter Milch</div>
                            <div class="product-footer">
                                <span class="product-size">250ml</span>
                                <span class="product-price">€3,50</span>
                            </div>
                        </div>
                    </div>
                    <div class="product-card active">
                        <div class="product-image">
                            <img src="../assets/new_york_style_plain.webp" alt="Latte Macchiato">
                        </div>
                        <div class="product-content">
                            <div class="product-name">Latte Macchiato</div>
                            <div class="product-description">Geschichteter Latte mit aromatischem Espresso</div>
                            <div class="product-footer">
                                <span class="product-size">300ml</span>
                                <span class="product-price">€4,20</span>
                            </div>
                        </div>
                    </div>
                    <div class="product-card">
                        <div class="product-image">
                            <img src="../assets/pastrami_deluxe_plain.webp" alt="Espresso">
                        </div>
                        <div class="product-content">
                            <div class="product-name">Espresso</div>
                            <div class="product-description">Kraftvoller italienischer Espresso</div>
                            <div class="product-footer">
                                <span class="product-size">50ml</span>
                                <span class="product-price">€2,50</span>
                            </div>
                        </div>
                    </div>
                    <div class="product-card">
                        <div class="product-image">
                            <img src="../assets/vegan_vegas_plain.webp" alt="Cold Brew">
                        </div>
                        <div class="product-content">
                            <div class="product-name">Cold Brew</div>
                            <div class="product-description">Kalt gebrühter Kaffee mit intensivem Aroma</div>
                            <div class="product-footer">
                                <span class="product-size">400ml</span>
                                <span class="product-price">€4,50</span>
                            </div>
                        </div>
                    </div>
                </div>
                <button class="carousel-button next">›</button>
            </div>
        </section>

        <!-- Speisen Sektion (Dunkel) -->
        <section class="content-section dark">
            <div class="section-header">
                <div class="section-info">
                    <h2 class="section-title">Unsere Speisen</h2>
                    <p class="section-subtitle">Genießen Sie unsere handgemachten Bagels, knusprigen Focaccias und
                        nahrhaften Bowls - alle frisch zubereitet.</p>
                </div>
                <div class="section-controls">
                    <button class="carousel-button prev" onclick="scrollCarousel('food-carousel', -1)">‹</button>
                    <button class="carousel-button next" onclick="scrollCarousel('food-carousel', 1)">›</button>
                </div>
            </div>

            <div class="carousel-wrapper">
                <div class="carousel" id="food-carousel">
                    <!-- Bagels -->
                    <div class="product-card">
                        <div class="product-image">
                            <img src="../assets/manhatten_city_plain.webp" alt="Manhattan City Bagel">
                        </div>
                        <div class="product-content">
                            <div class="product-name">Manhattan City</div>
                            <div class="product-description">Frischkäse, Avocado, Räucherlachs, Dill, Rucola</div>
                            <div class="product-footer">
                                <span class="product-size">Bagel</span>
                                <span class="product-price">€6,95</span>
                            </div>
                        </div>
                    </div>
                    <div class="product-card active">
                        <div class="product-image">
                            <img src="../assets/new_york_style_plain.webp" alt="New York Style Bagel">
                        </div>
                        <div class="product-content">
                            <div class="product-name">New York Style</div>
                            <div class="product-description">Cream Cheese, Tomaten, Zwiebeln, Kapern</div>
                            <div class="product-footer">
                                <span class="product-size">Bagel</span>
                                <span class="product-price">€5,95</span>
                            </div>
                        </div>
                    </div>
                    <div class="product-card">
                        <div class="product-image">
                            <img src="../assets/pastrami_deluxe_plain.webp" alt="Pastrami Deluxe Bagel">
                        </div>
                        <div class="product-content">
                            <div class="product-name">Pastrami Deluxe</div>
                            <div class="product-description">Pastrami, Senf, Gewürzgurken, Zwiebeln</div>
                            <div class="product-footer">
                                <span class="product-size">Bagel</span>
                                <span class="product-price">€7,95</span>
                            </div>
                        </div>
                    </div>
                    <div class="product-card">
                        <div class="product-image">
                            <img src="../assets/pastrami_plain.webp" alt="Pastrami Bagel">
                        </div>
                        <div class="product-content">
                            <div class="product-name">Pastrami</div>
                            <div class="product-description">Pastrami, Senf, Gewürzgurken</div>
                            <div class="product-footer">
                                <span class="product-size">Bagel</span>
                                <span class="product-price">€6,95</span>
                            </div>
                        </div>
                    </div>
                    <div class="product-card">
                        <div class="product-image">
                            <img src="../assets/vegan_vegas_plain.webp" alt="Vegan Vegas Bagel">
                        </div>
                        <div class="product-content">
                            <div class="product-name">Vegan Vegas</div>
                            <div class="product-description">Hummus, Avocado, Sprossen, Tomaten</div>
                            <div class="product-footer">
                                <span class="product-size">Bagel</span>
                                <span class="product-price">€6,50</span>
                            </div>
                        </div>
                    </div>

                    <!-- Focaccias -->
                    <div class="product-card">
                        <div class="product-image">
                            <img src="../assets/giuliana_plain.webp" alt="Giuliana Focaccia">
                        </div>
                        <div class="product-content">
                            <div class="product-name">Giuliana</div>
                            <div class="product-description">Mozzarella, Pesto, Tomaten, Basilikum</div>
                            <div class="product-footer">
                                <span class="product-size">Focaccia</span>
                                <span class="product-price">€6,50</span>
                            </div>
                        </div>
                    </div>
                    <div class="product-card">
                        <div class="product-image">
                            <img src="../assets/italiano_plain.webp" alt="Italiano Focaccia">
                        </div>
                        <div class="product-content">
                            <div class="product-name">Italiano</div>
                            <div class="product-description">Rinder Salami, Burrata, Rucola, Pesto</div>
                            <div class="product-footer">
                                <span class="product-size">Focaccia</span>
                                <span class="product-price">€6,95</span>
                            </div>
                        </div>
                    </div>
                    <div class="product-card">
                        <div class="product-image">
                            <img src="../assets/milano_plain.webp" alt="Milano Focaccia">
                        </div>
                        <div class="product-content">
                            <div class="product-name">Milano</div>
                            <div class="product-description">Prosciutto, Mozzarella, Rucola, Balsamico</div>
                            <div class="product-footer">
                                <span class="product-size">Focaccia</span>
                                <span class="product-price">€7,50</span>
                            </div>
                        </div>
                    </div>

                    <!-- Bowls -->
                    <div class="product-card">
                        <div class="product-image">
                            <img src="../assets/chicken_teriyaki_front.webp" alt="Chicken Teriyaki Bowl">
                        </div>
                        <div class="product-content">
                            <div class="product-name">Chicken Teriyaki</div>
                            <div class="product-description">Grilled Chicken, Teriyaki Sauce, Basmati Reis</div>
                            <div class="product-footer">
                                <span class="product-size">Bowl</span>
                                <span class="product-price">€9,90</span>
                            </div>
                        </div>
                    </div>
                    <div class="product-card">
                        <div class="product-image">
                            <img src="../assets/falafel_front.webp" alt="Falafel Bowl">
                        </div>
                        <div class="product-content">
                            <div class="product-name">Falafel Bowl</div>
                            <div class="product-description">Falafel, Quinoa, Sesam Sauce, Hummus</div>
                            <div class="product-footer">
                                <span class="product-size">Bowl</span>
                                <span class="product-price">€9,90</span>
                            </div>
                        </div>
                    </div>
                    <div class="product-card">
                        <div class="product-image">
                            <img src="../assets/peanut_chicken_front.webp" alt="Peanut Chicken Bowl">
                        </div>
                        <div class="product-content">
                            <div class="product-name">Peanut Chicken</div>
                            <div class="product-description">Hähnchen, Erdnuss Sauce, Jasmin Reis, Gemüse</div>
                            <div class="product-footer">
                                <span class="product-size">Bowl</span>
                                <span class="product-price">€10,50</span>
                            </div>
                        </div>
                    </div>
                    <div class="product-card">
                        <div class="product-image">
                            <img src="../assets/caesars_front.webp" alt="Caesars Bowl">
                        </div>
                        <div class="product-content">
                            <div class="product-name">Caesars Bowl</div>
                            <div class="product-description">Hähnchen, Caesar Dressing, Parmesan, Croutons</div>
                            <div class="product-footer">
                                <span class="product-size">Bowl</span>
                                <span class="product-price">€9,50</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <script>
        // Subtile Parallax-Effekte
        function updateParallax() {
            const scrolled = window.pageYOffset;
            const rate = scrolled * -0.02; // Sehr langsame Bewegung
            
            // Texte - leichte vertikale Bewegung
            const heroTexts = document.querySelectorAll('.hero-text');
            heroTexts.forEach(text => {
                text.style.transform = `translateY(calc(-50% + ${rate}px))`;
            });
            
            // Bagels - leichte horizontale und vertikale Bewegung
            const leftBagel = document.querySelector('.coffee-bean.left');
            const rightBagel = document.querySelector('.coffee-bean.right');
            
            if (leftBagel) {
                leftBagel.style.transform = `rotate(-15deg) translate(${rate * 0.5}px, ${rate * 0.3}px)`;
            }
            
            if (rightBagel) {
                rightBagel.style.transform = `rotate(25deg) translate(${rate * -0.5}px, ${rate * 0.3}px)`;
            }
        }

        // Event Listener für Scroll
        window.addEventListener('scroll', updateParallax);

        function scrollCarousel(carouselId, direction) {
            const carousel = document.getElementById(carouselId);
            const scrollAmount = 280; /* ZURÜCK zu voller Karte (260px + 20px) */
            carousel.scrollBy({
                left: direction * scrollAmount,
                behavior: 'smooth'
            });
        }

        // PROFESSIONELLE RESPONSIVE CAROUSEL-LOGIK
        document.querySelectorAll('.carousel').forEach(carousel => {
            function updateActiveCards() {
                const cards = carousel.querySelectorAll('.product-card');
                const carouselRect = carousel.getBoundingClientRect();
                const carouselCenter = carouselRect.left + carouselRect.width / 2;
                
                // Responsive: Anzahl aktiver Karten basierend auf Bildschirmbreite
                const screenWidth = window.innerWidth;
                let maxActiveCards = screenWidth >= 1200 ? 2 : 1; // Desktop: 2, Tablet/Mobile: 1
                
                // Alle deaktivieren
                cards.forEach(card => card.classList.remove('active'));

                // Berechne Distanzen, OHNE erste und letzte Karte
                const middleCards = Array.from(cards).slice(1, -1);
                
                if (middleCards.length >= maxActiveCards) {
                    const cardDistances = middleCards.map(card => {
                        const cardRect = card.getBoundingClientRect();
                        const cardCenter = cardRect.left + cardRect.width / 2;
                        const distance = Math.abs(carouselCenter - cardCenter);
                        return { card, distance };
                    });

                    // Sortiere nach Distanz und aktiviere die nähesten
                    cardDistances.sort((a, b) => a.distance - b.distance);
                    
                    for (let i = 0; i < maxActiveCards && i < cardDistances.length; i++) {
                        cardDistances[i].card.classList.add('active');
                    }
                }
            }
            
            carousel.addEventListener('scroll', updateActiveCards);
            window.addEventListener('resize', updateActiveCards); // Responsive updates
            
            // Initial aktivieren
            updateActiveCards();
        });
    </script>

</body>

</html>